"use strict";angular.module("myApp",["myApp.controllers","btford.socket-io"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"partials/main.html",controller:"StreamCtrl"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),angular.module("myApp.controllers",[]).controller("AppCtrl",["$scope","socket",function(){}]).controller("StreamCtrl",["$scope","socket",function(a,b){b.on("data",function(b){if(null!==b){a.totalTweets=b.totalTweets,a.lastUpdated=b.lastUpdated,a.recentTweets=b.recentTweets,a.tweetsPerMinute=b.tweetsPerMinute,a.symbols=[];for(var c in b.symbols){var d=b.symbols[c]/a.totalTweets;isNaN(d)&&(d=0),a.symbols.push({symbol:c,value:Math.round(255*d),recentTweet:b.recentTweets[c]})}if(a.predicate="-value",void 0===a.minutesLength||b.minutes.length>a.minutesLength){a.minutesLength=b.minutes.length;var e=$("#myChart").get(0).getContext("2d"),f=[];f.push({fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",data:b.tpm});for(var d in b.symbols)f.push({fillColor:"rgba(0,40,89,0.5)",strokeColor:"rgba(243,106,38,1)",pointColor:"rgba(0,40,89,1)",pointStrokeColor:"rgba(243,106,38,1)",data:b.trendingTweetsPerMinute[d]});{var g={labels:b.minutes,datasets:f};new Chart(e).Line(g)}}}})}]);